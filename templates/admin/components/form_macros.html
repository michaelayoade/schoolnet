{% macro text_input(name, label, value="", type="text", required=false, placeholder="", help_text="", readonly=false) %}
<div>
    <label for="{{ name }}" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">{{ label }}{% if required %} <span class="text-red-500">*</span>{% endif %}</label>
    <input type="{{ type }}" id="{{ name }}" name="{{ name }}" value="{{ value if value else '' }}"
           {% if required %}required{% endif %} {% if placeholder %}placeholder="{{ placeholder }}"{% endif %} {% if readonly %}readonly{% endif %}
           class="w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 {% if readonly %}bg-slate-50 dark:bg-slate-600 cursor-not-allowed{% endif %}" />
    {% if help_text %}<p class="mt-1 text-xs text-slate-500 dark:text-slate-400">{{ help_text }}</p>{% endif %}
</div>
{% endmacro %}

{% macro textarea(name, label, value="", rows=3, required=false, placeholder="", help_text="") %}
<div>
    <label for="{{ name }}" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">{{ label }}{% if required %} <span class="text-red-500">*</span>{% endif %}</label>
    <textarea id="{{ name }}" name="{{ name }}" rows="{{ rows }}"
              {% if required %}required{% endif %} {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
              class="w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500">{{ value if value else '' }}</textarea>
    {% if help_text %}<p class="mt-1 text-xs text-slate-500 dark:text-slate-400">{{ help_text }}</p>{% endif %}
</div>
{% endmacro %}

{% macro select_field(name, label, options, selected="", required=false, help_text="") %}
<div>
    <label for="{{ name }}" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">{{ label }}{% if required %} <span class="text-red-500">*</span>{% endif %}</label>
    <select id="{{ name }}" name="{{ name }}" {% if required %}required{% endif %}
            class="w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
        {% for opt in options %}
        <option value="{{ opt.value }}" {% if opt.value == selected %}selected{% endif %}>{{ opt.label }}</option>
        {% endfor %}
    </select>
    {% if help_text %}<p class="mt-1 text-xs text-slate-500 dark:text-slate-400">{{ help_text }}</p>{% endif %}
</div>
{% endmacro %}

{% macro checkbox(name, label, checked=false, help_text="") %}
<div class="flex items-start gap-2">
    <input type="checkbox" id="{{ name }}" name="{{ name }}" value="true" {% if checked %}checked{% endif %}
           class="mt-1 rounded border-slate-300 dark:border-slate-600 text-primary-600 focus:ring-primary-500" />
    <div>
        <label for="{{ name }}" class="text-sm font-medium text-slate-700 dark:text-slate-300">{{ label }}</label>
        {% if help_text %}<p class="text-xs text-slate-500 dark:text-slate-400">{{ help_text }}</p>{% endif %}
    </div>
</div>
{% endmacro %}

{% macro submit_button(label="Save", cancel_url=none) %}
<div class="flex items-center gap-3 pt-4">
    <button type="submit" class="px-4 py-2 rounded-lg bg-gradient-to-r from-primary-600 to-primary-500 text-white font-medium shadow-lg shadow-primary-500/25 btn-hover text-sm">
        {{ label }}
    </button>
    {% if cancel_url %}
    <a href="{{ cancel_url }}" class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-sm hover:bg-slate-50 dark:hover:bg-slate-700">Cancel</a>
    {% endif %}
</div>
{% endmacro %}
